<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
  <title>招收集体户的公立小学--思明区</title>
  <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css"/>
  <style>
        html, body, #container {
            height: 100%;
            width: 100%;
        }

        .amap-icon img,
        .amap-marker-content img{
            width: 25px;
            height: 34px;
        }

        .marker {
            position: absolute;
            top: -20px;
            right: -118px;
            color: #fff;
            padding: 4px 10px;
            box-shadow: 1px 1px 1px rgba(10, 10, 10, .2);
            white-space: nowrap;
            font-size: 12px;
            font-family: "";
            background-color: #25A5F7;
            border-radius: 3px;
        }

        .input-card{
            width: 18rem;
            z-index: 170;
        }

        .input-card .btn{
            margin-right: .8rem;
        }

        .input-card .btn:last-child{
            margin-right: 0;
        }
    </style>
</head>
<body>
<div id="container"></div>
<div class="input-card" style="display:''">
  <a style="color:grey" href="http://bbs.xmfish.com/read-htm-tid-16754111.html" target="_blank">
    厦门集体户读公办小学（来源小鱼网）(下次把所有学校都标上地图)</a>
<!--  <label style="color:grey">点标记操作</label>-->
<!--  <div class="input-item">-->
<!--    <input id="addMarker" type="button" class="btn" onclick="addMarker()" value="添加点标记">-->
<!--    <input id="updateMarker" type="button" class="btn" onclick="updateIcon()" value="更新点标记图标">-->
<!--  </div>-->
<!--  <div class="input-item">-->
<!--    <input id="clearMarker" type="button" class="btn" onclick="clearMarker()" value="删除点标记">-->
<!--    <input id="updateMarker" type="button" class="btn" onclick="updateContent()" value="更新点标记内容">-->
<!--  </div>-->
</div>
<script type="text/javascript"
        src="https://webapi.amap.com/maps?v=1.4.15&key=6ad1e3e826b87e8197c2ddf652686616"></script>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

<script type="text/javascript">
    var marker, map = new AMap.Map("container", {
        resizeEnable: true,
        center: [118.136483,24.597577],
        zoom: 11
    });

    let debug=false;

    if(debug){
        var simingqu1 = "观音山音乐学校|何厝小学|厦门第二实验小学展城分校|前埔小学|前埔北区小学|前埔南区小学|莲前小学|云顶学校|金鸡亭小学|五中小学部"

        var simingqu2 = "莲龙小学|莲花小学|鹭江新城小学|嘉滨小学|民立二小|仙岳小学|滨北小学旧校区|滨北小学新校区|人民小学浦南分校|思明第二实验小学"

        var simingqu3 = "湖滨小学|公园小学|故宫小学|开禾小学|思北小学|园南小学|群惠小学|文安小学|思明小学|定安小学"

        var simingqu4 = "演武二小|滨海小学"

        let simingqu = simingqu1;
        $.get("//restapi.amap.com/v3/geocode/geo?key=a7e105b9b7755c7a6f899ff482ef4cb2&address="+simingqu1+"&city=厦门&batch=true",
        function(ret){
            let temp = "";
            alert(ret.geocodes[0].location)
            let lst = simingqu1.split("|")
            for(let i=0;i<10;i++){
                temp += lst[i] + "," + ret.geocodes[i].location + "," + ret.geocodes[i].formatted_address
                temp += "\r\n"
            }
        });
         simingqu = simingqu2;
        $.get("//restapi.amap.com/v3/geocode/geo?key=a7e105b9b7755c7a6f899ff482ef4cb2&address="+simingqu2+"&city=厦门&batch=true",
        function(ret){
            let temp = "";
            //alert(ret.geocodes[0].location)
            let lst = simingqu2.split("|")
            for(let i=0;i<10;i++){
                temp += lst[i] + "," + ret.geocodes[i].location + "," + ret.geocodes[i].formatted_address
                temp += "\r\n"
            }
        });
         simingqu = simingqu3;
        $.get("//restapi.amap.com/v3/geocode/geo?key=a7e105b9b7755c7a6f899ff482ef4cb2&address="+simingqu3+"&city=厦门&batch=true",
        function(ret){
            let temp = "";
            //alert(ret.geocodes[0].location)
            let lst = simingqu3.split("|")
            for(let i=0;i<10;i++){
                temp += lst[i] + "," + ret.geocodes[i].location + "," + ret.geocodes[i].formatted_address
                temp += "\r\n"
            }
        });
         simingqu = simingqu4;
        $.get("//restapi.amap.com/v3/geocode/geo?key=a7e105b9b7755c7a6f899ff482ef4cb2&address="+simingqu4+"&city=厦门&batch=true",
        function(ret){
            let temp = "";
            //alert(ret.geocodes[0].location)
            let lst = simingqu4.split("|")
            for(let i=0;i<lst.length;i++){
                temp += lst[i] + "," + ret.geocodes[i].location + "," + ret.geocodes[i].formatted_address
                temp += "\r\n"
            }
        });
    }else{
      let ss="观音山音乐学校,118.193342,24.489627,福建省厦门市思明区音乐学校;"
ss+="何厝小学,118.192093,24.483390,福建省厦门市思明区何厝小学;"
ss+="厦门第二实验小学展城分校,118.184688,24.474336,福建省厦门市思明区厦门第二实验小学展城分校;"
ss+="前埔小学,118.175987,24.470513,福建省厦门市思明区前埔小学;"
ss+="前埔北区小学,118.169759,24.476297,福建省厦门市思明区前埔北区小学;"
ss+="前埔南区小学,118.171172,24.465420,福建省厦门市思明区前埔南区小学;"
ss+="莲前小学,118.157249,24.479282,福建省厦门市思明区莲前小学;"
ss+="云顶学校,118.147561,24.475232,福建省厦门市思明区云顶学校;"
ss+="金鸡亭小学,118.139066,24.474593,福建省厦门市思明区金鸡亭小学;"
ss+="五中小学部,118.133715,24.476868,福建省厦门市思明区五中;"
ss+="莲龙小学,118.139170,24.489709,福建省厦门市思明区莲龙小学;"
ss+="莲花小学,118.135209,24.491184,福建省厦门市思明区莲花小学;"
ss+="鹭江新城小学,118.130987,24.489527,福建省厦门市思明区鹭江新城小学;"
ss+="嘉滨小学,118.124112,24.487226,福建省厦门市思明区嘉滨小学;"
ss+="民立二小,118.112962,24.497426,福建省厦门市思明区民立二小;"
ss+="仙岳小学,118.096199,24.490537,福建省厦门市思明区仙岳小学;"
ss+="滨北小学旧校区,118.106000,24.483050,福建省厦门市思明区滨北小学旧校区;"
ss+="滨北小学新校区,118.091901,24.488179,福建省厦门市思明区滨北小学新校区;"
ss+="人民小学浦南分校,118.121651,24.471048,福建省厦门市思明区人民小学浦南分校;"
ss+="思明第二实验小学,118.106821,24.459568,福建省厦门市思明区思明第二实验小学;"
ss+="湖滨小学,118.091571,24.465644,福建省厦门市思明区湖滨小学;"
ss+="公园小学,118.089615,24.461861,福建省厦门市思明区公园小学;"
ss+="故宫小学,118.081879,24.464814,福建省厦门市思明区故宫小学;"
ss+="开禾小学,118.074561,24.457379,福建省厦门市思明区开禾小学;"
ss+="思北小学,118.078616,24.452420,福建省厦门市思明区思北小学;"
ss+="园南小学,118.087149,24.457848,福建省厦门市思明区园南小学;"
ss+="群惠小学,118.084738,24.452259,福建省厦门市思明区群惠小学;"
ss+="文安小学,118.080639,24.452549,福建省厦门市思明区文安小学;"
ss+="思明小学,118.089706,24.443441,福建省厦门市思明区思明小学;"
ss+="定安小学,118.078616,24.452420,福建省厦门市思明区定安小学;"
ss+="演武二小,118.118713,24.433294,福建省厦门市思明区演武二小;"
ss+="滨海小学,118.145084,24.435898,福建省厦门市思明区滨海小学"

let lst = ss.split(";")
for(let i=0;i<lst.length;i++){
  let info=lst[i];
  let infos = info.split(",");
  addMarker1(infos[1],infos[2]);
}
    }
    // 实例化点标记
    function addMarker1(x,y) {
        let marker = new AMap.Marker({
            icon: "//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-default.png",
            position: [x,y],
            offset: new AMap.Pixel(-13, -30)
        });
        marker.setMap(map);
    }
    // 实例化点标记
    function addMarker() {
        marker = new AMap.Marker({
            icon: "//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-default.png",
            position: [116.406315,39.908775],
            offset: new AMap.Pixel(-13, -30)
        });
        marker.setMap(map);
    }
    function updateIcon() {

        marker.setIcon('//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-red.png')
    }

    function updateContent() {

        if (!marker) {
            return;
        }

        // 自定义点标记内容
        var markerContent = document.createElement("div");

        // 点标记中的图标
        var markerImg = document.createElement("img");
        markerImg.className = "markerlnglat";
        markerImg.src = "//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-red.png";
        markerContent.appendChild(markerImg);

        // 点标记中的文本
        var markerSpan = document.createElement("span");
        markerSpan.className = 'marker';
        markerSpan.innerHTML = "Hi，我被更新啦！";
        markerContent.appendChild(markerSpan);

        marker.setContent(markerContent); //更新点标记内容
        marker.setPosition([116.391467, 39.927761]); //更新点标记位置
    }

    // 清除 marker
    function clearMarker() {

        if (marker) {
            marker.setMap(null);
            marker = null;
        }
    }
</script>
</body>
</html>